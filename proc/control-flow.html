<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Control flow &mdash; On C++</title>
    
    <link rel="stylesheet" href="../_static/xalabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="On C++" href="../index.html" />
    <link rel="up" title="The Basics: Procedural programming" href="index.html" />
    <link rel="next" title="Functions" href="functions.html" />
    <link rel="prev" title="Logic and more on operators" href="logic.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="functions.html" title="Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="logic.html" title="Logic and more on operators"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">On C++</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">The Basics: Procedural programming</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="control-flow">
<h1>Control flow<a class="headerlink" href="#control-flow" title="Permalink to this headline">¶</a></h1>
<p>Until now, the “paths” that the execution of our programs took have been quite
simple: It started with the first statement, went on with the second, and so on,
executing one statement after the other, each exactly once and after the last
statement, the program ends.</p>
<div class="figure">
<p><img src="../_images/tikz-45b9ec4454b7468ac3b80716368114e120acbb90.png" alt="[flowchart,start chain=going right, every node/.style={on chain,join}]
\node [flowterm] {\texttt{int main()}};
\node [flowop] {Statement 1};
\node [flowop] {Statement 2};
\node [flowop] {\dots};
\node [flowop] {Statement $n$};
\node [flowterm] {End};" /></p>
<p class="caption">A flowchart diagram for successive statements.</p></div><p>It turns out that this is not enough for all but the most trivial programs. What
is needed are special statements that influence this <em class="dfn">control flow</em>.</p>
<div class="section" id="conditional-execution-if-and-else">
<h2>Conditional execution: <code class="docutils literal"><span class="pre">if</span></code> and <code class="docutils literal"><span class="pre">else</span></code><a class="headerlink" href="#conditional-execution-if-and-else" title="Permalink to this headline">¶</a></h2>
<div class="section" id="if">
<h3><code class="docutils literal"><span class="pre">if</span></code><a class="headerlink" href="#if" title="Permalink to this headline">¶</a></h3>
<p>The simplest control flow statement is <code class="docutils literal"><span class="pre">if</span></code>. The syntax is:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">boolean_expression</span><span class="p">)</span>
    <span class="n">statement</span>
</pre></div>
</div>
<p>This executes the given <code class="docutils literal"><span class="pre">statement</span></code> only if <code class="docutils literal"><span class="pre">boolean_expression</span></code> evaluates
to <code class="docutils literal"><span class="pre">true</span></code>.</p>
<div class="figure">
<p><img src="../_images/tikz-9dbe9366cb2640b7afe82b47fceb2ada2286f70e.png" alt="[flowchart]
\node (before) [flowterm] {statement before \texttt{if}};
\node (cond) [flowbranch,right=of before] {condition?};
\node (stat) [flowop,below=of cond] {statement};
\node (after) [flowterm,right=7em of cond] {statement after \texttt{if}};
\path (before) edge (cond)
      (cond) edge [&quot;\texttt{true}&quot;] (stat)
      (cond) edge [&quot;\texttt{false}&quot;] (after);
\draw (stat) -| (after);" /></p>
<p class="caption">A flowchart for if.</p></div><p>The following program demonstrates that:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">dividend</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter dividend: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">dividend</span><span class="p">;</span>

    <span class="kt">double</span> <span class="n">divisor</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter divisor: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">divisor</span><span class="p">;</span>

<span class="hll">    <span class="k">if</span> <span class="p">(</span><span class="n">divisor</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
</span><span class="hll">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Result: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">dividend</span> <span class="o">/</span> <span class="n">divisor</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Good bye!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not write a semicolon <code class="docutils literal"><span class="pre">;</span></code> between the closing parenthesis and
the statement. It would make the <code class="docutils literal"><span class="pre">if</span></code> control an empty statement and the
next “real” statement would be executed unconditionally.</p>
</div>
<p>Example output with dividend 3 and divisor 4 (note that the statement printing
the divisions result is executed):</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter dividend: 3
Enter divisor: 4
Result: 0.75
Good bye!
</pre></div>
</div>
<p>Example output with dividend 3 and divisor 0 (note that the statement printing
the division is <em>skipped</em>):</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter dividend: 3
Enter divisor: 0
Good bye!
</pre></div>
</div>
<p>You have probably noted that I indented the statement that is conditionally
executed. The compiler <a class="reference internal" href="hello-world.html#proc-hello-ws"><span class="std std-ref">ignores this</span></a>, but it is the usual
convention to indent the contents of a control-flow statement, just like you
indent the contents of the main program.</p>
</div>
<div class="section" id="else">
<h3><code class="docutils literal"><span class="pre">else</span></code><a class="headerlink" href="#else" title="Permalink to this headline">¶</a></h3>
<p>An obvious missing “feature” of the above program is the output of an error
message, when the divisor is zero. You could do that like this (only relevant
part of the main program shown):</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">divisor</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Result: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">dividend</span> <span class="o">/</span> <span class="n">divisor</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">divisor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;E: Cannot compute result: Divisor is zero.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>But this is not an ideal solution: First, the condition has to be written twice
(once “normal” and once logically inversed), and secondly the condition is also
checked twice at runtime. You could workaround this, by storing the result of
the normal condition in a Boolean variable and using the <code class="docutils literal"><span class="pre">!</span></code> operator for the
inversed condition, but C++ already has a keyword that does the equivalent for
you: <code class="docutils literal"><span class="pre">else</span></code>. Using this, the above snippet could be rewritten as:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">divisor</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Result: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">dividend</span> <span class="o">/</span> <span class="n">divisor</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="k">else</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;E: Cannot compute result: Divisor is zero.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>This also has the advantage of being immediately clear to the reader: <code class="docutils literal"><span class="pre">if</span></code> the
condition is true, do this, <code class="docutils literal"><span class="pre">else</span></code> do that.</p>
<div class="figure">
<p><img src="../_images/tikz-a1c60baf2f3273252cd35f3f4a9c1e6ddd82b368.png" alt="[flowchart]
\node (before) [flowterm] {statement before \texttt{if}/\texttt{else}};
\node (cond) [flowbranch,right=of before] {condition?};
\node (stat) [flowop,right=of cond] {\texttt{if}'s statement};
\node (else stat) [flowop,below=of cond] {\texttt{else}'s statement};
\node (after) [flowterm,right=of stat]
  {statement after \texttt{if}/\texttt{else}};
\path (before) edge (cond)
      (cond) edge [&quot;\texttt{true}&quot;] (stat)
      (cond) edge [&quot;\texttt{false}&quot;] (else stat)
      (stat) edge (after);
\draw (else stat) -| (after);" /></p>
<p class="caption">A flowchart for if/else.</p></div><div class="sidebar" id="proc-ctrl-check-cin">
<p class="first sidebar-title">Checking if <code class="docutils literal"><span class="pre">std::cin</span></code> succeeded</p>
<p>When using <code class="docutils literal"><span class="pre">std::cin</span></code> we have always trusted the user to enter correct
values. If an incorrect value was entered, our program would screw up,
invoking undefined behavior because the variable that we meant to get from
the user was not initialized. Using <code class="docutils literal"><span class="pre">if</span></code> we can now check if <code class="docutils literal"><span class="pre">std::cin</span></code>
suceeded. You might <a class="reference internal" href="logic.html#proc-logic-io"><span class="std std-ref">remember</span></a> that the <code class="docutils literal"><span class="pre">&gt;&gt;</span></code> operator,
applied to <code class="docutils literal"><span class="pre">std::cin</span></code>, returns the input stream (i.e. <code class="docutils literal"><span class="pre">std::cin</span></code>) after
trying to read in the value. It turns out that streams can be converted to
booleans: They evaluate to <code class="docutils literal"><span class="pre">false</span></code> if any previous operation on them (like
reading in a variable) failed and to <code class="docutils literal"><span class="pre">true</span></code> otherwise. This means that you
can do the following:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Got x = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="k">else</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;E: You entered a bad value for x.&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>For real programs you should definitely do that but for simplicity, I will
ignore that error checking in our example programs.</p>
<p class="last">Still better would be to let the user reenter a correct value, but
<code class="docutils literal"><span class="pre">std::cin</span></code> does not make this too easy: As soon as a bad value is entered,
it basically stops working and you have to do special things we will cover
(much) later to restore it.</p>
</div>
</div>
</div>
<div class="section" id="block-statements">
<h2>Block statements<a class="headerlink" href="#block-statements" title="Permalink to this headline">¶</a></h2>
<p>In the previous program and snippets, there always has been only one statement
that was conditionally executed. Indeed, in C++ only the one next statement
after the <code class="docutils literal"><span class="pre">if</span></code> or <code class="docutils literal"><span class="pre">else</span></code> is influenced by it. However, most of the time, you
will have execute more statements conditionally. The way to do this is to use a
special kind of statement after <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code>: a block statement. It has the
following syntax:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">statement_1</span>
    <span class="n">statement_2</span>
    <span class="c1">// ...</span>
    <span class="n">statement_n</span>
<span class="p">}</span>
</pre></div>
</div>
<p>That is, as many statements as you like (one or zero statements are also
allowed), inside a pair of braces. Note that block statements are the only
statements that are not terminated with a semicolon. Block statements have no
special meaning on their own (apart from scope; we will come to this in the next
section). For example, the following snippets are completely equivalent:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;A&quot;</span><span class="p">;</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;very&quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;simple&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;program.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>prints “A very simple program.”, just like the following:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;A&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;very&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;simple&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;program.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>The real use of block statements is after <code class="docutils literal"><span class="pre">if</span></code>, <code class="docutils literal"><span class="pre">else</span></code> and the other control
flow statements we will see later: since a block statement is just a single
(though composite) statement, using it as the one statement after the <code class="docutils literal"><span class="pre">if</span></code> (or
<code class="docutils literal"><span class="pre">else</span></code> or other control flow statement) allows to execute multiple statements
conditionally.</p>
<p id="proc-ctrl-ex-sort2">For example, the following program sorts two numbers that the user enters:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter two numbers: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">original_a</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">original_a</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Numbers already sorted.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Smaller number: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Bigger number: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example output with input “1 2”:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter two numbers: 1 2
Numbers already sorted.
Smaller number: 1
Bigger number: 2
</pre></div>
</div>
<p>and with “2 1”:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter two numbers: 2 1
Smaller number: 1
Bigger number: 2
</pre></div>
</div>
<p>There are mainly two things to note about this program (apart from the fact that
it uses a block statement, but this should be obvious): The placement of the
braces and the <code class="docutils literal"><span class="pre">else</span></code> and the statements inside the <code class="docutils literal"><span class="pre">if</span></code>.</p>
<div class="section" id="brace-style">
<h3>Brace style<a class="headerlink" href="#brace-style" title="Permalink to this headline">¶</a></h3>
<p>I placed the first opening brace on the same line as the <code class="docutils literal"><span class="pre">if</span></code> keyword and the
closing brace at a new line, at the same <em class="dfn">indentation level</em> (i.e. with the
same indentation) as the corresponding <code class="docutils literal"><span class="pre">if</span></code>. The <code class="docutils literal"><span class="pre">else</span></code> directly follows the
brace that closes the block of the <code class="docutils literal"><span class="pre">if</span></code> to which it belongs. I also put the
<code class="docutils literal"><span class="pre">std::cout</span> <span class="pre">&lt;&lt;</span> <span class="pre">&quot;Numbers</span> <span class="pre">already</span> <span class="pre">sorted&quot;;</span></code> inside a block statement, although
there would be no need for it; I just prefer to have the parts that belong to
the same <code class="docutils literal"><span class="pre">if</span></code> either all in blocks or all without blocks. The braces of the
<code class="docutils literal"><span class="pre">else</span></code> statement follow the same principle as the <code class="docutils literal"><span class="pre">if</span></code>&#8216;s: opening one
directly after the <code class="docutils literal"><span class="pre">else</span></code>, closing one with the same indentation as the
line of the <code class="docutils literal"><span class="pre">else</span></code> keyword. The closing brace is on a line of its own because
the next statement is not part of the <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code>.</p>
<p>There are other ways to do this. In a common one, the <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> would look
like this:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">auto</span> <span class="n">original_a</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">original_a</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Numbers already sorted.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This style puts every brace on a line of its own. It has the advantage of making
the control flow statements even more visible. It does, however, need three
lines more in this example, which I personally think makes the code look so
“stretched” that it hinders my flow of reading.</p>
<p>There are other styles of brace formatting and indentation in general. You can
read about them e.g. in <a class="reference external" href="http://en.wikipedia.org/wiki/Indent_style">Wikipedia</a>.</p>
</div>
<div class="section" id="swapping">
<h3>Swapping<a class="headerlink" href="#swapping" title="Permalink to this headline">¶</a></h3>
<p>The other interesting part of the program are the statements inside the <code class="docutils literal"><span class="pre">if</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">original_a</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">original_a</span><span class="p">;</span>
</pre></div>
</div>
<p>This has the effect of swapping <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">b</span></code> and is probably the simplest
well known “algorithm”. First, <code class="docutils literal"><span class="pre">a</span></code> is copied into the new variable
<code class="docutils literal"><span class="pre">original_a</span></code>, then <code class="docutils literal"><span class="pre">b</span></code> is assigned to <code class="docutils literal"><span class="pre">a</span></code> and finally <code class="docutils literal"><span class="pre">b</span></code> gets the value
that <code class="docutils literal"><span class="pre">a</span></code> had before <code class="docutils literal"><span class="pre">b</span></code> was assigned to it. This might seem needlessly
complicated at first look, but consider what the naïve variant would do:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
<p>First <code class="docutils literal"><span class="pre">a</span></code> gets assigned the value of <code class="docutils literal"><span class="pre">b</span></code>. Then <code class="docutils literal"><span class="pre">b</span></code> gets assigned the value
of <code class="docutils literal"><span class="pre">a</span></code> &#8212; but wait! What value does <code class="docutils literal"><span class="pre">a</span></code> have at this point? It was already
assigned from <code class="docutils literal"><span class="pre">b</span></code> and its original value was overwritten and is now lost.</p>
<p>Why do we want to swap <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">b</span></code> here in the first place? Because the two
numbers are either already sorted (then we do nothing) or they are not sorted,
in which case they must be in completely reverse order (because there are only
two numbers) and swapping them reverses the order again, thus establishing the
right (sorted from smallest to largest) order. Of course, sorting more than just
two numbers is more involved than that, but many algorithms that do it still use
the swapping of two numbers as a fundamental operation.</p>
</div>
<div class="section" id="scope">
<span id="proc-ctrl-scope"></span><h3>Scope<a class="headerlink" href="#scope" title="Permalink to this headline">¶</a></h3>
<p>If you play with the sorting program above, you might notice that you cant&#8217;t
access the <code class="docutils literal"><span class="pre">original_a</span></code> variable outside the block in which it is defined,
i.e. inside or after the <code class="docutils literal"><span class="pre">else</span></code> block.</p>
<p>Apart from type, value and associated memory, a variable also has a
<em class="dfn">scope</em>. The scope is the area of the source code in which the variable can
be referred to. It starts at its definition and ends where the (innermost)
block in which it was declared ends. Thus the scope of <code class="docutils literal"><span class="pre">original_a</span></code> extends
only to the end of the <code class="docutils literal"><span class="pre">if</span></code>&#8216;s block statement, but not outside it. If you
wanted to use the variable after the <code class="docutils literal"><span class="pre">if</span></code> you would have to define it outside
the block:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">original_a</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span> <span class="c1">// Point of definition for original_a.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// original_a can be used here</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// and here</span>
<span class="p">}</span>
<span class="c1">// and also here</span>
</pre></div>
</div>
<p>However, since in this example we don&#8217;t need <code class="docutils literal"><span class="pre">original_a</span></code> outside the <code class="docutils literal"><span class="pre">if</span></code>,
it&#8217;s best to leave its definition were it was: In general you should always
make the scope of a variable as small as possible and as big necessary.</p>
<div class="admonition-task admonition" id="task-sorting-three-numbers">
<span id="t-sort3"></span><p class="first admonition-title">Task: Sorting three numbers</p>
<p>Extend the <a class="reference internal" href="#proc-ctrl-ex-sort2"><span class="std std-ref">program that sorts two numbers</span></a>
to sort three numbers instead!</p>
<p>Hint: Check your program with all 6 <a class="reference external" href="http://en.wikipedia.org/wiki/Permutation">permutations</a> (i.e. possible
orders) of 1, 2, 3.</p>
<p class="taskref tasksolref last">(<a class="reference external" href="#task-sorting-three-numbers-solution">Solution</a>)</p>
</div>
</div>
</div>
<div class="section" id="nested-control-flow-and-else-if">
<h2>Nested control flow and <code class="docutils literal"><span class="pre">else</span> <span class="pre">if</span></code><a class="headerlink" href="#nested-control-flow-and-else-if" title="Permalink to this headline">¶</a></h2>
<p>Like you can write arbitrarily complex expressions, you can also write
arbitrarily complex control flow structures. The following program demonstrates
that:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">age</span><span class="p">;</span> <span class="c1">// Age in years</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;How old are you? &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">age</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">height</span><span class="p">;</span> <span class="c1">// Height in centimetre</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;How tall are you? &quot;</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">height</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">height</span> <span class="o">&lt;</span> <span class="mi">160</span><span class="p">)</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Sorry, you are not tall enough.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;You are tall enough to take a ride!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;You are old enough to take a ride!</span><span class="se">\n</span><span class="s">;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Try the program out yourself! Make sure you see all four possible outputs.</p>
<p>Note that it does not directly play a role if blocks are used or not. For
example, the following does what one would expect (and what the indentation
suggests):</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is between 0 and 100.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>The outer <code class="docutils literal"><span class="pre">if</span></code> applies to the one next statement, which is the inner <code class="docutils literal"><span class="pre">if</span></code>.
This inner if, however, applies to the <code class="docutils literal"><span class="pre">cout</span></code> expression, so that from the
outer <code class="docutils literal"><span class="pre">if</span></code>&#8216;s point of view, <code class="docutils literal"><span class="pre">if</span> <span class="pre">(x</span> <span class="pre">&lt;=</span> <span class="pre">100)</span> <span class="pre">std::cout</span> <span class="pre">&lt;&lt;</span> <span class="pre">…</span></code> is just one
statement.</p>
<p>In this case, the nesting does not really make sense: the and-operator <code class="docutils literal"><span class="pre">&amp;&amp;</span></code>
could (and should) be used instead:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is between 0 and 100</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="the-dangling-else-problem">
<h3>The dangling <code class="docutils literal"><span class="pre">else</span></code> problem<a class="headerlink" href="#the-dangling-else-problem" title="Permalink to this headline">¶</a></h3>
<p>You should be particularly careful with nested <code class="docutils literal"><span class="pre">else</span></code>. For example, consider
the following program:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter x: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is between 0 and 100.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is negative.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Did you expect these outputs?</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter x: 2
x is between 0 and 100.
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter x: -5
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter x: 101
x is negative.
</pre></div>
</div>
<p>If not, remember that the compiler does not care about indentation. For it, the
<code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> part of the program could also have been written as</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is between 0 and 100.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="k">else</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is negative.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>How should the compiler know which <code class="docutils literal"><span class="pre">else</span></code> belongs to which <code class="docutils literal"><span class="pre">if</span></code>? This
problem is so common in imperative languages, that it has got its own name: the
<a class="reference external" href="http://en.wikipedia.org/wiki/Dangling_else">dangling else problem</a>. In C++ (and most other languages), there is a simple
rule: When there is an ambiguity, the <code class="docutils literal"><span class="pre">else</span></code> belongs to the nearest possible
<code class="docutils literal"><span class="pre">if</span></code>. Thus, the “correct” indentation of the code above (i.e. the indentation
that reflects its meaning) would be:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is between 0 and 100.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is negative.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>That should explain the output. To give the code the originally intended
meaning, the inner <code class="docutils literal"><span class="pre">if</span></code> should be put in a block statement:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is between 0 and 100.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is negative.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Alternatively, the following also means the same:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is between 0 and 100.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="hll">    <span class="k">else</span> <span class="p">{}</span>
</span><span class="k">else</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is negative.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>By giving the inner <code class="docutils literal"><span class="pre">if</span></code> an empty <code class="docutils literal"><span class="pre">else</span></code> branch, the next <code class="docutils literal"><span class="pre">else</span></code> is forced
to the outer <code class="docutils literal"><span class="pre">if</span></code>. However, although technically correct, this is rather
obscure and I recommend just using block statements instead.</p>
</div>
<div class="section" id="else-if">
<h3><code class="docutils literal"><span class="pre">else</span> <span class="pre">if</span></code><a class="headerlink" href="#else-if" title="Permalink to this headline">¶</a></h3>
<p>There is, however a common use for nesting control flow statements without
blocks. Look for example at the following program that determines, whether a
number is positive, negative or zero:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter a number: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is negative. (-)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="hll">    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span><span class="hll">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is positive. (+)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span>    <span class="k">else</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is zero. (0)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">else</span> <span class="pre">if</span></code> is not a new statement: it&#8217;s just an <code class="docutils literal"><span class="pre">if</span></code> nested inside a
<code class="docutils literal"><span class="pre">else</span></code>. However, it is usually formatted like a single control flow statement
(also in the above). Using the technically correct indentation, the code would
look like:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is negative. (-)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="k">else</span>
    <span class="nf">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is positive. (+)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x is zero. (0)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<div class="figure">
<p><img src="../_images/tikz-5443daea1cb3c753544910efd47181ec432a0c9f.png" alt="[flowchart]
\node (before) [flowterm] {start};

\node (negcond) [flowbranch,below=of before] {x &lt; 0?};
\node (poscond) [flowbranch,below=of negcond] {x &gt; 0?};

\node (zero) [flowop,below=of poscond]
  {\verb|std::cout &lt;&lt; &quot;x is zero. (0)\n&quot;|};
\node (neg) [flowop,right=of negcond]
  {\verb|std::cout &lt;&lt; &quot;x is negative. (-)\n&quot;|};
\node (pos) [flowop,right=of poscond]
  {\verb|std::cout &lt;&lt; &quot;x is positive. (+)\n&quot;|};

\node (after) [flowterm,below=of zero] {end};

\path (before) edge (negcond)
      (negcond) edge [&quot;\texttt{true}&quot;] (neg)
      (negcond) edge [&quot;\texttt{false}&quot;] (poscond)
      (poscond) edge [&quot;\texttt{true}&quot;] (pos)
      (poscond) edge [&quot;\texttt{false}&quot;] (zero)
      (zero) edge (after);
\draw [name path=neg after] (neg.east) -- ++(3em,0) |- (after.east);
\path [name path=pos after] (pos.south) |- (after.east);
\draw [name intersections={of=neg after and pos after,by=x}]
  (pos.south) -- (x);" /></p>
<p class="caption">A flowchart for the above snippet (equivalent to the corresponding
part in the full program).</p></div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Dont&#8217;t forget the <code class="docutils literal"><span class="pre">?:</span></code> operator! In the example above, it could be
used to replace the <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> like this:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s">&quot;x is negative. (-)&quot;</span> <span class="o">:</span>
              <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s">&quot;x is positive. (+)&quot;</span> <span class="o">:</span>
                      <span class="s">&quot;x is zero. (0)&quot;</span><span class="p">)</span>
          <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p class="last">The ternary operator, however, can be used to select expressions only (and
also expressions of the same type only), while using <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> you can
execute whole different program parts. For example the <a class="reference internal" href="#proc-ctrl-ex-sort2"><span class="std std-ref">sorting program</span></a> could not be implemented using only <code class="docutils literal"><span class="pre">?</span> <span class="pre">:</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="multi-way-branching-switch">
<h2>Multi-way branching: <code class="docutils literal"><span class="pre">switch</span></code><a class="headerlink" href="#multi-way-branching-switch" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">switch</span></code> statement typically has the following syntax:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">switch</span> <span class="p">(</span><span class="n">integral_expression</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nl">integral_constant_1</span><span class="p">:</span>
        <span class="n">statements_1</span>
    <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nl">integral_constant_2</span><span class="p">:</span>
        <span class="n">statements_2</span>
    <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nl">integral_constant_3</span><span class="p">:</span>
        <span class="n">statements_3</span>
    <span class="k">break</span><span class="p">;</span>
    <span class="c1">// ...</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="n">default_statements</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="figure">
<p><img src="../_images/tikz-dee06eab2e81e40da8a8255583221ee0c73edb38.png" alt="[flowchart]
\node (before) [flowterm] {start};

\node (sw) [flowbranch,below=of before,align=center]
  {\ttfamily switch\\ \ttfamily(integral\_expression)};
\node (c3) [flowop,below=5em of sw] {\verb|statements_3|};
\node (c2) [flowop,left=of c3] {\verb|statements_2|};
\node (c1) [flowop,left=of c2] {\verb|statements_1|};
\node (cx) [flowop,right=of c3] {\dots};
\node (def) [flowop,right=of cx] {\verb|default_statements|};

\node (after) [flowterm,below=of c3] {end};

\path (before) edge (sw)
      (sw) edge [&quot;\ttfamily const\_1:&quot;'] (c1)
      (sw) edge [&quot;\ttfamily const\_2:&quot;'] (c2)
      (sw) edge [&quot;\ttfamily const\_3:&quot;'] (c3)
      (sw) edge (cx)
      (sw) edge [&quot;\ttfamily default:&quot;] (def)
      (c1) edge (after)
      (c2) edge (after)
      (c3) edge (after)
      (cx) edge (after)
      (def) edge (after);" /></p>
<p class="caption">A flowchart for the above switch.</p></div><p>Where <code class="docutils literal"><span class="pre">integral_expression</span></code> is an expression which evaluates to an integer
type and integral constants are integral expressions that can be evaluated at
compile time, e.g. simple integer literals or constants that are initialized
with them. Note that if you use variables for <code class="docutils literal"><span class="pre">integral_expression</span></code>, they must
be <code class="docutils literal"><span class="pre">const</span></code>; but not every <code class="docutils literal"><span class="pre">const</span></code> variable qualifies: They must, in turn,
also have been initialized from compile time evaluable expressions.</p>
<p>The above <code class="docutils literal"><span class="pre">switch</span></code> is a replacement for the following <code class="docutils literal"><span class="pre">if</span> <span class="pre">…</span> <span class="pre">else</span> <span class="pre">if</span> <span class="pre">…</span> <span class="pre">else</span></code>
sequence:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">integral_expression</span> <span class="o">==</span> <span class="n">integral_constant_1</span><span class="p">)</span>
    <span class="n">statements_1</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">integral_expression</span> <span class="o">==</span> <span class="n">integral_constant_2</span><span class="p">)</span>
    <span class="n">statements_2</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">integral_expression</span> <span class="o">==</span> <span class="n">integral_constant_3</span><span class="p">)</span>
    <span class="n">statements_3</span>
<span class="c1">// ...</span>
<span class="k">else</span>
    <span class="n">default_statements</span>
</pre></div>
</div>
<p>Granted, the <code class="docutils literal"><span class="pre">switch</span></code> has more lines than the chained <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code>, but it
does not repeat the <code class="docutils literal"><span class="pre">==</span></code> every time.</p>
<p>The <code class="docutils literal"><span class="pre">default</span></code> branch of the <code class="docutils literal"><span class="pre">switch</span></code> is optional; if you leave it out, it&#8217;s
like leaving out the <code class="docutils literal"><span class="pre">else</span></code> in the equivalent <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code>: No statements
are executed if <code class="docutils literal"><span class="pre">integral_expression</span></code> is not equal to any of the
<code class="docutils literal"><span class="pre">integral_constant</span></code>s.</p>
<p id="proc-ctrl-ex-switch">The following program demonstrates <code class="docutils literal"><span class="pre">switch</span></code> (note that <code class="docutils literal"><span class="pre">char</span></code>s count as
integral):</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter left-hand side operand: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">lhs</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter right-hand side operand: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">rhs</span><span class="p">;</span>

    <span class="kt">char</span> <span class="n">op</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter operator: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">op</span><span class="p">;</span>

    <span class="kt">double</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Initialize to avoid MSVC&#39;s warning C4701.</span>
    <span class="k">auto</span> <span class="n">valid_op</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">op</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="sc">&#39;+&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">+</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="sc">&#39;-&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">-</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="sc">&#39;*&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">*</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="sc">&#39;/&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">/</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="n">valid_op</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;E: &#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">op</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;&#39; is not a known operator.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">valid_op</span><span class="p">)</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">lhs</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39; &#39;</span> <span class="o">&lt;&lt;</span> <span class="n">op</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39; &#39;</span> <span class="o">&lt;&lt;</span> <span class="n">rhs</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter left-hand side operand: 12
Enter right-hand side operand: 5
Enter operator: /
12 / 5 = 2.4
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Don&#8217;t forget the <code class="docutils literal"><span class="pre">break</span></code>! If you leave it out, the contents of
the <code class="docutils literal"><span class="pre">switch</span></code> will continue to execute accross the <code class="docutils literal"><span class="pre">case</span></code>s and the
<code class="docutils literal"><span class="pre">default</span></code> (you <em class="dfn">fall through</em> these labels), until it hits the next
<code class="docutils literal"><span class="pre">break</span></code> (or reaches the end). There are some rare occasions where this is
intended, which is why it&#8217;s not a compiler error. In such a case, you should
place a comment instead of the <code class="docutils literal"><span class="pre">break</span></code>, saying <code class="docutils literal"><span class="pre">//</span> <span class="pre">fall</span> <span class="pre">through</span></code>.</p>
</div>
<p>Of course, the <code class="docutils literal"><span class="pre">break</span></code> after the <code class="docutils literal"><span class="pre">default</span></code> statements is technically
unnecessary, but I added it for a consistent look.</p>
<p>Probably the most common application of “fall through” is to execute some
statements in multiple cases, by falling through after a <code class="docutils literal"><span class="pre">case</span></code> without its
own statement. For example we could additionally allow the dot “.” and an “x”
for multiplication by rewriting the <code class="docutils literal"><span class="pre">switch</span></code> as follows:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">switch</span> <span class="p">(</span><span class="n">op</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="sc">&#39;+&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">+</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="sc">&#39;-&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">-</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>

<span class="hll">    <span class="k">case</span> <span class="sc">&#39;*&#39;</span><span class="o">:</span>
</span><span class="hll">    <span class="k">case</span> <span class="sc">&#39;x&#39;</span><span class="o">:</span>
</span><span class="hll">    <span class="k">case</span> <span class="sc">&#39;.&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">*</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
</span>
    <span class="k">case</span> <span class="sc">&#39;/&#39;</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lhs</span> <span class="o">/</span> <span class="n">rhs</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>

    <span class="k">default</span><span class="o">:</span>
        <span class="n">valid_op</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;E: &#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">op</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;&#39; is not a known operator.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this common case, the <code class="docutils literal"><span class="pre">//</span> <span class="pre">fall</span> <span class="pre">through</span></code> comment is usually left out,
because the absence of a statement is enough of a hint. I also chose to add in
additional empty lines, to make it clear what belongs together.</p>
<div class="section" id="the-simple-truth-about-switch">
<h3>The simple truth about <code class="docutils literal"><span class="pre">switch</span></code><a class="headerlink" href="#the-simple-truth-about-switch" title="Permalink to this headline">¶</a></h3>
<p>A <code class="docutils literal"><span class="pre">switch</span></code> statement of the form</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">switch</span> <span class="p">(</span><span class="n">integral_expression</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nl">integral_constant_1</span><span class="p">:</span>
        <span class="n">statements_1</span>
    <span class="k">case</span> <span class="nl">integral_constant_2</span><span class="p">:</span>
        <span class="n">statements_2</span>
    <span class="k">case</span> <span class="nl">integral_constant_3</span><span class="p">:</span>
        <span class="n">statements_3</span>
    <span class="c1">// ...</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="n">default_statements</span>
<span class="p">}</span>
</pre></div>
</div>
<p>just jumps to the <code class="docutils literal"><span class="pre">case</span></code> label that matches the <code class="docutils literal"><span class="pre">integral_expression</span></code>
(<code class="docutils literal"><span class="pre">default</span></code> if no other one matches and after the <code class="docutils literal"><span class="pre">switch</span></code> if no <code class="docutils literal"><span class="pre">default</span></code>
is given) &#8211; nothing more; further <code class="docutils literal"><span class="pre">case</span></code> labels are ignored (but only the
labels not the statements after them, which are technically not “<em>their</em>
statements”). A <code class="docutils literal"><span class="pre">break</span></code> statement can be used to jump to the end of the
<code class="docutils literal"><span class="pre">switch</span></code>. By placing a <code class="docutils literal"><span class="pre">break</span></code> before each <code class="docutils literal"><span class="pre">case</span></code> except the first one,
the idiomatic usage of <code class="docutils literal"><span class="pre">switch</span></code> as a multi-way branching device is achieved.</p>
<p>Note that if you want to declare variables that are local to a “case-branch”,
you need to use a block statement:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">switch</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// …</span>
    <span class="k">case</span> <span class="nl">some_constant</span><span class="p">:</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">y</span> <span class="o">=</span> <span class="cm">/* … */</span><span class="p">;</span>
        <span class="c1">// …</span>
    <span class="p">}</span> <span class="k">break</span><span class="p">;</span>
    <span class="c1">// …</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of course, it does not matter whether the <code class="docutils literal"><span class="pre">break</span></code> is inside at the end of the
block or just after it; I just think it looks nicer in the above way.</p>
</div>
</div>
<div class="section" id="loops">
<h2>Loops<a class="headerlink" href="#loops" title="Permalink to this headline">¶</a></h2>
<p>While <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> and <code class="docutils literal"><span class="pre">switch</span></code> execute their “attached” statement(s)
either one or zero times, loops allow you to conditionally execute a statement
many times. Finally, you can let the computer do the repetition for you!</p>
<div class="section" id="repeat-conditionally-while">
<h3>Repeat conditionally: <code class="docutils literal"><span class="pre">while</span></code><a class="headerlink" href="#repeat-conditionally-while" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">while</span></code> loop has nearly the same syntax as <code class="docutils literal"><span class="pre">if</span></code>, only the keyword is
different:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">boolean_expression</span><span class="p">)</span>  <span class="c1">// Loop “head”.</span>
  <span class="n">statement</span>                 <span class="c1">// Loop “body”.</span>
</pre></div>
</div>
<p>It executes <code class="docutils literal"><span class="pre">statement</span></code> as long as the loop condition <code class="docutils literal"><span class="pre">boolean_expression</span></code>
is <code class="docutils literal"><span class="pre">true</span></code>.  <code class="docutils literal"><span class="pre">boolean_expression</span></code> is checked each time before executing
<code class="docutils literal"><span class="pre">statement</span></code>. That is, a <code class="docutils literal"><span class="pre">while</span></code> loop operates as follows:</p>
<ol class="arabic simple">
<li>Evaluate <code class="docutils literal"><span class="pre">boolean_expression</span></code></li>
<li>If it evaluated to <code class="docutils literal"><span class="pre">false</span></code>, end the loop (go after 4.)</li>
<li>Execute <code class="docutils literal"><span class="pre">statement</span></code></li>
<li>Go to 1.</li>
</ol>
<div class="figure">
<p><img src="../_images/tikz-2e7038f7dd137eac179bc0e4eb602dfe25f4a51a.png" alt="[flowchart]

\node (s) [flowterm] {start};
\node (cond) [flowbranch, below=of s] {condition?};
\node (stat) [flowop, below=of cond] {statement};
\node (e) [flowterm, below=of stat] {end};

\path (s) edge (cond)
      (cond) edge [&quot;\ttfamily true&quot;] (stat);
\draw (stat.south) |- ++(9em,-1em) |- (cond.east);
\draw (cond.west) -- ++(-3em,0) node [anchor=south] {\ttfamily false} |- (e.west);" /></p>
<p class="caption">A flowchart for while.</p></div><p>This means that if <code class="docutils literal"><span class="pre">boolean_expression</span></code> is already <code class="docutils literal"><span class="pre">false</span></code> at the point
where the <code class="docutils literal"><span class="pre">while</span></code> is first reached, <code class="docutils literal"><span class="pre">statement</span></code> will never be executed.</p>
<p>Play around with the following program!</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">hit_points</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter the robot&#39;s initial hit points:&quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">hit_points</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">hit_points</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">damage</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter the damage dealt: &quot;</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">damage</span><span class="p">;</span>
        <span class="n">hit_points</span> <span class="o">-=</span> <span class="n">damage</span><span class="p">;</span>

        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Remaining hit points: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">hit_points</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;The robot is destroyed.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Basically, that&#8217;s it for control flow! Using <code class="docutils literal"><span class="pre">if</span></code> and <code class="docutils literal"><span class="pre">while</span></code> you can
express every imaginable control flow. Theoretically, you would not even need
<code class="docutils literal"><span class="pre">if</span></code>, because you can express it using <code class="docutils literal"><span class="pre">while</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">something</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Something!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>could be written as</p>
<div class="last highlight-cpp"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">first_execution</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">first_execution</span> <span class="o">&amp;&amp;</span> <span class="n">something</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">first_execution</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Something!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="do-while">
<h3><code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code><a class="headerlink" href="#do-while" title="Permalink to this headline">¶</a></h3>
<p>The syntax of the <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code> loop is a bit weird, in the sense that it is
the only control flow statement that consists of two keywords and the only one
where a keyword is put <em>after</em> the statement:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">do</span>
    <span class="n">statement</span>
<span class="k">while</span> <span class="p">(</span><span class="n">boolean_expression</span><span class="p">)</span>
</pre></div>
</div>
<p>Semantically, the only difference between the <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code> and the “ordinary”
<code class="docutils literal"><span class="pre">while</span></code> loop is that the former checks its condition every time <em>after</em> its
statement is executed, while the <code class="docutils literal"><span class="pre">while</span></code> loop does it beforehand. It operates
as follows:</p>
<ol class="arabic simple">
<li>Execute <code class="docutils literal"><span class="pre">statement</span></code></li>
<li>Evaluate <code class="docutils literal"><span class="pre">boolean_expression</span></code></li>
<li>If it evaluated to <code class="docutils literal"><span class="pre">false</span></code>, end the loop (go after 4.)</li>
<li>Go to 1.</li>
</ol>
<div class="figure">
<p><img src="../_images/tikz-074eb36a7024fff70bb399addf403625ed0e711e.png" alt="[flowchart]

\node (s) [flowterm] {start};
\node (stat) [flowop, below=of s] {statement};
\node (cond) [flowbranch, below=of stat] {condition?};
\node (e) [flowterm, below=of cond] {end};

\path (s) edge (stat)
      (stat) edge (cond)
      (cond) edge [&quot;\ttfamily false&quot;] (e);
\draw (cond.east) -- ++(3em,0) node [anchor=north] {\ttfamily true} |- (stat.east);" /></p>
<p class="caption">A flowchart for do … while.</p></div><p>This means that, contrary to the <code class="docutils literal"><span class="pre">while</span></code> loop, a <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code> loop always
executes its statement at least once, no matter if <code class="docutils literal"><span class="pre">boolean_expression</span></code> is
initially <code class="docutils literal"><span class="pre">false</span></code>. You won&#8217;t need <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code> nearly as often as <code class="docutils literal"><span class="pre">while</span></code>,
but sometimes it can be handy.</p>
<p id="proc-ctrl-ex-do-while">The following program shows a menu to the user until he chooses to exit the
program. Such menus are typical candidates for <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code>.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">value</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter initial value: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">value</span><span class="p">;</span>

    <span class="kt">double</span> <span class="n">d</span><span class="p">;</span> <span class="c1">// difference</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter value to add or 0 to exit: &quot;</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">d</span><span class="p">;</span>
        <span class="n">value</span> <span class="o">+=</span> <span class="n">d</span><span class="p">;</span> <span class="c1">// Addition of 0 (exit) does not change the value.</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Current value: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">value</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">d</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition-task admonition" id="task-mini-calculator">
<span id="proc-task-minicalc"></span><p class="first admonition-title">Task: Mini calculator</p>
<p>Extend this program so that the user cannot enter only a number that
is then added, but a number and an operator, so that the user can decide
to add to, subtract from, multiply or divide the current value. Make sure to
handle division by zero!</p>
<p class="taskref tasksolref last">(<a class="reference external" href="#task-mini-calculator-solution">Solution</a>)</p>
</div>
<p>You should use <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code> instead of <code class="docutils literal"><span class="pre">while</span></code> if you catch yourself
repeating the statements from inside the <code class="docutils literal"><span class="pre">while</span></code> in front of it; this:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">some_statement</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">some_condition</span><span class="p">)</span>
    <span class="n">some_statement</span><span class="p">;</span> <span class="c1">// Same as above.</span>
</pre></div>
</div>
<p>is better written as</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">do</span>
    <span class="n">some_statement</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">some_condition</span><span class="p">)</span>
</pre></div>
</div>
<p>Conversely, if you are tempted to put a <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code> inside an <code class="docutils literal"><span class="pre">if</span></code> with the
same condition as the loop, use a plain <code class="docutils literal"><span class="pre">while</span></code> instead:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">some_condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">do</span>
        <span class="n">some_statement</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">some_condition</span><span class="p">);</span> <span class="c1">// Same condition as for the if.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above should really be written as simply:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">some_condition</span><span class="p">)</span>
    <span class="n">some_statement</span><span class="p">;</span>
</pre></div>
</div>
<p>Often, you will have loops where you know that the loop condition will be
<code class="docutils literal"><span class="pre">true</span></code> in the first iteration of the loop, so that <code class="docutils literal"><span class="pre">while</span></code> and <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span>
<span class="pre">while</span></code> would effectively be equivalent. In such cases, you should, by
convention, prefer the plain <code class="docutils literal"><span class="pre">while</span></code> loop:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">running</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">running</span><span class="p">)</span>
    <span class="c1">// …</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">while</span></code> loops also have the advantage that their condition is written in front
of the body, so that you can see it directly without scrolling down a
potentially long loop body.</p>
</div>
<div class="section" id="counter-loops-for">
<h3>Counter loops: <code class="docutils literal"><span class="pre">for</span></code><a class="headerlink" href="#counter-loops-for" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">for</span></code> loop is C++&#8217;s most versatile loop. It&#8217;s commonly used as a counter
loop, e.g. to do something ten times.</p>
<div class="section" id="implementing-for-with-while">
<h4>Implementing <code class="docutils literal"><span class="pre">for</span></code> with <code class="docutils literal"><span class="pre">while</span></code><a class="headerlink" href="#implementing-for-with-while" title="Permalink to this headline">¶</a></h4>
<p>In order to understand the <code class="docutils literal"><span class="pre">for</span></code> loop, we will first implement a counter loop
using <code class="docutils literal"><span class="pre">while</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter number of iterations: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>

    <span class="c1">// The counter loop:</span>
    <span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0u</span><span class="p">;</span> <span class="c1">// u: unsigned suffix</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Iteration with i = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Loop left with i = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Some example outputs</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter number of iterations: 5
Iteration with i = 0
Iteration with i = 1
Iteration with i = 2
Iteration with i = 3
Iteration with i = 4
Loop left with i = 5
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter number of iterations: 0
Loop left with i = 0
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>Enter number of iterations: 1
Iteration with i = 0
Loop left with i = 1
</pre></div>
</div>
<p>Note that, again by convention, counting in C++ starts at zero instead of one
and the counter variable (often named <code class="docutils literal"><span class="pre">i</span></code>) is compared with the desired
iteration number (<code class="docutils literal"><span class="pre">n</span></code> in this case) by using <code class="docutils literal"><span class="pre">&lt;</span></code> (less-than), not <code class="docutils literal"><span class="pre">&lt;=</span></code>
(less-than-or-equal). That is, the counter variable consecutively gets all
values from <code class="docutils literal"><span class="pre">0</span></code> to <code class="docutils literal"><span class="pre">n</span> <span class="pre">-</span> <span class="pre">1</span></code>. Mathematically, you can call this an half-open
range, because it does not include <code class="docutils literal"><span class="pre">n</span></code>.</p>
<p>When the loop exits, <code class="docutils literal"><span class="pre">i</span></code> is equal to <code class="docutils literal"><span class="pre">n</span></code> (or, equivalently, the loop exits
when <code class="docutils literal"><span class="pre">i</span></code> is equal to <code class="docutils literal"><span class="pre">n</span></code>).</p>
</div>
<div class="section" id="the-increment-and-decrement-operators">
<h4>The increment <code class="docutils literal"><span class="pre">++</span></code> and decrement <code class="docutils literal"><span class="pre">--</span></code> operators<a class="headerlink" href="#the-increment-and-decrement-operators" title="Permalink to this headline">¶</a></h4>
<p>Because adding <code class="docutils literal"><span class="pre">1</span></code> to a variable (<em class="dfn">incrementing</em> it) is so common in C++,
the language has a special unary operator for that: <code class="docutils literal"><span class="pre">++</span></code>. Using this operator,
<code class="docutils literal"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">1</span></code> can be written as <code class="docutils literal"><span class="pre">++x</span></code>. Similarly, subtracting <code class="docutils literal"><span class="pre">1</span></code>
(<em class="dfn">decrementing</em>) is done by the <code class="docutils literal"><span class="pre">--</span></code> operator: <code class="docutils literal"><span class="pre">--x</span></code> is a shorthand for
<code class="docutils literal"><span class="pre">x</span> <span class="pre">-=</span> <span class="pre">1</span></code>. Like the <code class="docutils literal"><span class="pre">+=</span></code> or <code class="docutils literal"><span class="pre">-=</span></code> operators, the <code class="docutils literal"><span class="pre">++</span></code> and <code class="docutils literal"><span class="pre">--</span></code> operators
require a variable as an operand and return it after in-/decrementing.</p>
<p>Note that these unary operators can be written not only in front of a variable
like <code class="docutils literal"><span class="pre">++x</span></code> (as <em class="dfn">prefix</em> operators) but also after them, e.g. <code class="docutils literal"><span class="pre">x++</span></code> (as
<em class="dfn">postfix</em> operators). The difference between these two forms is subtle:
Both will increment (or decrement in the case of <code class="docutils literal"><span class="pre">--</span></code>) the operand. However,
while <code class="docutils literal"><span class="pre">++x</span></code> returns the updated variable, <code class="docutils literal"><span class="pre">x++</span></code> returns the value the
variable had <em>before</em> incrementing. E.g. when <code class="docutils literal"><span class="pre">x</span></code> was <code class="docutils literal"><span class="pre">2</span></code> before
incrementing, <code class="docutils literal"><span class="pre">++x</span></code> would set <code class="docutils literal"><span class="pre">x</span></code> to <code class="docutils literal"><span class="pre">3</span></code> and then return this <code class="docutils literal"><span class="pre">x</span></code> that
has the value <code class="docutils literal"><span class="pre">3</span></code>. <code class="docutils literal"><span class="pre">x++</span></code>, on the other hand, remembers the value <code class="docutils literal"><span class="pre">2</span></code>, then
increments <code class="docutils literal"><span class="pre">x</span></code> and finally returns this remembered value <code class="docutils literal"><span class="pre">2</span></code>.</p>
<div class="admonition note" id="proc-ctrl-factorial">
<p class="first admonition-title">Note</p>
<p>Why is there the postfix form with such an odd behavior? Because it
sometimes is exactly what&#8217;s neeeded, making code shorter. For example, the
<a class="reference external" href="http://en.wikipedia.org/wiki/Factorial">factorial</a> <span class="math">\(n!\)</span> of a number <span class="math">\(n\)</span> is defined as the value of the
expression <span class="math">\(1 \cdot 2 \cdot \ldots \cdot n\)</span>. Using this definition, we
can compute the factorial of 4 (<span class="math">\(4!\)</span>) as <span class="math">\(1 \cdot 2 \cdot 3 \cdot
4 = 24\)</span>. As a special case, <span class="math">\(0! = 1\)</span>. Implementing the factorial in C++
could be done with the following loop, that uses prefix <code class="docutils literal"><span class="pre">++</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">result</span> <span class="o">*=</span> <span class="n">i</span><span class="p">;</span>
    <span class="o">++</span><span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Using postfix <code class="docutils literal"><span class="pre">++</span></code>, the loop body can be shortened to one line:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">*=</span> <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</pre></div>
</div>
<p class="last">However, since code is read more often than written, it is questionable if
this kind of trickery (or postfix <code class="docutils literal"><span class="pre">++</span></code> and <code class="docutils literal"><span class="pre">--</span></code> at all) is desirable.</p>
</div>
<p>When replacing <code class="docutils literal"><span class="pre">+=</span></code> of the counter loop from the previous section with <code class="docutils literal"><span class="pre">++</span></code>,
it looks like this <a class="footnote-reference" href="#postfix-again" id="id1">[1]</a>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Iteration with i = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
    <span class="o">++</span><span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-for-loop">
<h4>The <code class="docutils literal"><span class="pre">for</span></code> loop<a class="headerlink" href="#the-for-loop" title="Permalink to this headline">¶</a></h4>
<p>There were three things we had to do in our counter loops:</p>
<ol class="arabic simple">
<li>Define and initialize a counter variable</li>
<li>Compare the counter with the desired count</li>
<li>Increment the counter</li>
</ol>
<p>The <code class="docutils literal"><span class="pre">for</span></code> loop allows to do all this in one statement:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">definition_or_expression</span><span class="p">;</span> <span class="n">boolean_expression</span><span class="p">;</span> <span class="n">expression</span><span class="p">)</span>
      <span class="n">statement</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">definition_or_expression</span></code> should define a counter variable or use an
assignment expression to (re)initialize an existing one. The
<code class="docutils literal"><span class="pre">boolean_expression</span></code> is the loop condition that determines whether to continue
the <code class="docutils literal"><span class="pre">for</span></code>-loop and <code class="docutils literal"><span class="pre">expression</span></code> is usually used to increment the counter.
For example the following <code class="docutils literal"><span class="pre">for</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0u</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Iteration with i = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>is the exact equivalent of the <code class="docutils literal"><span class="pre">while</span></code> counter loop we implemented before,
including the definition of <code class="docutils literal"><span class="pre">i</span></code>. The only difference is that the variable
<code class="docutils literal"><span class="pre">i</span></code> is only in scope inside the <code class="docutils literal"><span class="pre">for</span></code> loop (both body and head), unlike the
<code class="docutils literal"><span class="pre">i</span></code> for the <code class="docutils literal"><span class="pre">while</span></code> that we had to declare before the loop. That is, a
<code class="docutils literal"><span class="pre">for</span></code> loop operates as follows:</p>
<ol class="arabic simple">
<li>Execute <code class="docutils literal"><span class="pre">definition_or_expression</span></code>.</li>
<li>Evaluate <code class="docutils literal"><span class="pre">boolean_expression</span></code>.</li>
<li>If it evaluated to <code class="docutils literal"><span class="pre">false</span></code>, end the loop (go after 6.)</li>
<li>Execute <code class="docutils literal"><span class="pre">statement</span></code>.</li>
<li>Evaluate <code class="docutils literal"><span class="pre">expression</span></code> (for its side effect; the result is discarded).</li>
<li>Go to 2.</li>
</ol>
<div class="figure">
<p><img src="../_images/tikz-6597702969f6c2e0cdafa936e06888be6890b806.png" alt="[flowchart]

\node (s) [flowterm] {start};
\node (init) [flowop, below=of s]{definition or expression (head pt. 1)};
\node (cond) [flowbranch, below=of init,align=center]
  {condition?\\(head pt. 2)};
\node (stat) [flowop, below=of cond] {statement};
\node (step) [flowop, below=of stat] {expression (head pt. 3)};
\node (e) [flowterm, below=of step] {end};

\path (s) edge (init)
      (init) edge (cond)
      (cond) edge [&quot;\ttfamily true&quot;] (stat)
      (stat) edge (step);
\draw (step.south) |- ++(9em,-1em) |- (cond.east);
\draw (cond.west) -- ++(-3em,0) node [anchor=south] {\ttfamily false} |- (e.west);" /></p>
<p class="caption">A flowchart for for.</p></div><p>The following program prints a rectangle with the help of two nested for loops:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="n">width</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;width: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">width</span><span class="p">;</span>

    <span class="kt">unsigned</span> <span class="n">height</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;height: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">height</span><span class="p">;</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>

    <span class="k">const</span> <span class="k">auto</span> <span class="n">brush_char</span> <span class="o">=</span> <span class="sc">&#39;#&#39;</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0u</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">;</span> <span class="o">++</span><span class="n">y</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0u</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">width</span><span class="p">;</span> <span class="o">++</span><span class="n">x</span><span class="p">)</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">brush_char</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>width: 3
height: 2

###
###
</pre></div>
</div>
<p>Note that the inner <code class="docutils literal"><span class="pre">for</span></code> loop&#8217;s <code class="docutils literal"><span class="pre">definition_or_expression</span></code> is (naturally)
executed in each iteration of the outer <code class="docutils literal"><span class="pre">for</span></code>. If you are unsure about what
exactly happens, try replacing the <code class="docutils literal"><span class="pre">cout</span></code>s output with something that
includes <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code>.</p>
<div class="admonition-task admonition" id="task-pyramids-with-for">
<p class="first admonition-title">Task: Pyramids with <code class="docutils literal"><span class="pre">for</span></code></p>
<p>Write a program that outputs a “pyramid” of a given height. For
example fo the input 4, the program should print:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#</span>
<span class="cp">##</span>
<span class="cp">###</span>
<span class="cp">####</span>
</pre></div>
</div>
<p>Extend the program to optionally put the slope on both sides. E.g for the 4
above, it should then print:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span>   <span class="cp">#</span>
  <span class="cp">###</span>
 <span class="cp">#####</span>
<span class="cp">#######</span>
</pre></div>
</div>
<p>Try to minimize code duplication between these two options!</p>
<p class="taskref tasksolref last">(<a class="reference external" href="#task-pyramids-with-for-solution">Solution</a>)</p>
</div>
</div>
<div class="section" id="stripping-for-s-head">
<h4>Stripping <code class="docutils literal"><span class="pre">for</span></code>&#8216;s head<a class="headerlink" href="#stripping-for-s-head" title="Permalink to this headline">¶</a></h4>
<p>One interesting thing you can do with <code class="docutils literal"><span class="pre">for</span></code> is omitting parts of its head:
In</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">definition_or_expression</span><span class="p">;</span> <span class="n">boolean_expression</span><span class="p">;</span> <span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>If you don&#8217;t need <code class="docutils literal"><span class="pre">definition_or_expression</span></code> you can just leave it out. The
same thing goes for <code class="docutils literal"><span class="pre">expression</span></code>. You can also leave out <code class="docutils literal"><span class="pre">condition</span></code> in
which case it is always <code class="docutils literal"><span class="pre">true</span></code>, causing and endless loop &#8211; a “pseudo-endless”
loop using the <code class="docutils literal"><span class="pre">break</span></code> statement from the next section is sometimes useful.
When you leave out everything but condition, it is equivalent to a <code class="docutils literal"><span class="pre">while</span></code>
loop:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(;</span> <span class="n">condition</span><span class="p">;</span> <span class="p">)</span>
    <span class="n">something</span><span class="p">;</span>
</pre></div>
</div>
<p>is equivalent to the more readable</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
    <span class="n">something</span><span class="p">;</span>
</pre></div>
</div>
<p>which is why this combination of omitted head parts is not really useful.</p>
</div>
</div>
<div class="section" id="break-and-continue">
<h3><code class="docutils literal"><span class="pre">break</span></code> and <code class="docutils literal"><span class="pre">continue</span></code><a class="headerlink" href="#break-and-continue" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ending-a-loop-with-break">
<h4>Ending a loop with <code class="docutils literal"><span class="pre">break</span></code><a class="headerlink" href="#ending-a-loop-with-break" title="Permalink to this headline">¶</a></h4>
<p>Sometimes checking the loop condition at the beginning of the loop (or at the
end with <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code>) is not feasible. Or there are several conditions that
can lead to the loop being terminated and different actions are necessary in
reaction to them. That&#8217;s where <code class="docutils literal"><span class="pre">break</span></code> can come in handy: this keyword,
written as a single statement, ends the (innermost) loop it is in, jumping right
after its end.</p>
<p>For example, the following gets up to ten numbers from the user, but ends the
loop as soon as the sum of the numbers reaches 256:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">max_number_count</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">target_sum</span> <span class="o">=</span> <span class="mi">256</span><span class="p">;</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter number:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">auto</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">max_number_count</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">n</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&gt;=</span> <span class="n">target_sum</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Target sum &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">target_sum</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; reached.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="hll">            <span class="k">break</span><span class="p">;</span>
</span>        <span class="p">}</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Sum not reached yet.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Final sum: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">sum</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We used <code class="docutils literal"><span class="pre">break</span></code> here, because (a) we want to execute an additional <code class="docutils literal"><span class="pre">cout</span></code>
when the loop ends because of reaching the target sum, without duplicating the
boolean expression for checking if the sum was reached after loop and (b) we
don&#8217;t want to print “Sum not reached yet.” in that case and <code class="docutils literal"><span class="pre">break</span></code> saves us
from having to put this into a conditional.</p>
<div class="admonition-task admonition" id="task-break-with-if-else">
<span id="proc-task-break-with-if-else"></span><p class="first admonition-title">Task: <code class="docutils literal"><span class="pre">break</span></code> with <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code></p>
<p>Rewrite the above program without using <code class="docutils literal"><span class="pre">break</span></code>.</p>
<p class="taskref tasksolref last">(<a class="reference external" href="#task-break-with-if-else-solution">Solution</a>)</p>
</div>
<p>However, there is a potential gotcha in this program: If we wanted to print
the average of all numbers after the <code class="docutils literal"><span class="pre">for</span></code>, we would need the count to be in
scope after loop, so we would first move the <code class="docutils literal"><span class="pre">auto</span> <span class="pre">i</span> <span class="pre">=</span> <span class="pre">0</span></code> before the loop</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">max_number_count</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// …</span>
</pre></div>
</div>
<p>But then a problem would surface: The final value of <code class="docutils literal"><span class="pre">i</span></code> has no consistent
meaning:</p>
<p>If the loop was terminated using <code class="docutils literal"><span class="pre">break</span></code>, the <code class="docutils literal"><span class="pre">++i</span></code> in the <code class="docutils literal"><span class="pre">for</span></code> head
won&#8217;t be executed a final time thus <code class="docutils literal"><span class="pre">i</span></code> will be one less than the number of
numbers entered. If, however, the loop ends because the <code class="docutils literal"><span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">max_number_count</span></code>
loop condition becomes <code class="docutils literal"><span class="pre">false</span></code>, <code class="docutils literal"><span class="pre">i</span></code> will be equal to the number of entered
numbers. This makes it hard to compute e.g. the average of all numbers. A
solution to this problem would be to move the <code class="docutils literal"><span class="pre">++i</span></code> inside the loop:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">max_number_count</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">sum</span> <span class="o">+=</span> <span class="n">n</span><span class="p">;</span>
<span class="hll">    <span class="o">++</span><span class="n">i</span><span class="p">;</span>
</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&gt;=</span> <span class="n">target_sum</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Target sum &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">target_sum</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; reached.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Sum not reached yet.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now, <code class="docutils literal"><span class="pre">i</span></code> is always equal to the number of numbers after the loop; however our
<code class="docutils literal"><span class="pre">for</span></code> has effectively become a <code class="docutils literal"><span class="pre">while</span></code> in the process.</p>
<p>So while the <code class="docutils literal"><span class="pre">break</span></code> was perfectly fine in the first example where we were not
interested in the final value of <code class="docutils literal"><span class="pre">i</span></code>, it made matters complicated if we did.
Also, when using <code class="docutils literal"><span class="pre">break</span></code>, you have to scan the whole loop body when you want
to know when a loop will terminate, instead of just looking at the head.  The
morale of the story is: Use <code class="docutils literal"><span class="pre">break</span></code> sparingly, especially in <code class="docutils literal"><span class="pre">for</span></code> loops
with increment expressions in their head!  However, I would personally always
prefer <code class="docutils literal"><span class="pre">break</span></code> to the introduction of a <code class="docutils literal"><span class="pre">bool</span></code> variable for the loop
condition.</p>
<div class="admonition-task admonition" id="task-average-with-break-less-variant">
<p class="first admonition-title">Task: Average with <code class="docutils literal"><span class="pre">break</span></code>-less variant</p>
<p>(Followup to the <a class="reference internal" href="#proc-task-break-with-if-else"><span class="std std-ref">previous task</span></a>.) What
would you need to change for the previous task to have <code class="docutils literal"><span class="pre">i</span></code> always be equal
to the number of numbers entered?</p>
<p class="taskref tasksolref last">(<a class="reference external" href="#task-average-with-break-less-variant-solution">Solution</a>)</p>
</div>
<div class="admonition-task admonition">
<p class="first admonition-title">Task</p>
<p class="last">A great opportunity to <em>introduce</em> <code class="docutils literal"><span class="pre">break</span></code> would be the <a class="reference internal" href="#proc-task-minicalc"><span class="std std-ref">mini
calculator</span></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Sometimes not even a single part of a loop&#8217;s condition can be checked
in its head, so that it is entirely <code class="docutils literal"><span class="pre">break</span></code>-controlled. The idiomatic way
to write such a loop is <code class="docutils literal"><span class="pre">for</span> <span class="pre">(;;)</span></code>: A <code class="docutils literal"><span class="pre">for</span></code> loop where all optional (that
is, all) head parts have been omitted. This syntax looks quite odd and that&#8217;s
why it was choosen &#8211; such pseudo-endless loops are odd too.  The obvious
alternative <code class="docutils literal"><span class="pre">while</span> <span class="pre">(true)</span></code> is also used, but has the disadvantage that
compilers might warn you that the “conditional expression is constant”.</p>
<p class="last">It is best to avoid such loops if the alternive head-controlled loop is not
significantly more complicated (e.g. relying on <code class="docutils literal"><span class="pre">bool</span></code> variables for flow
control).</p>
</div>
</div>
<div class="section" id="skipping-part-of-a-loop-body-with-continue">
<h4>Skipping part of a loop body with <code class="docutils literal"><span class="pre">continue</span></code><a class="headerlink" href="#skipping-part-of-a-loop-body-with-continue" title="Permalink to this headline">¶</a></h4>
<p>While <code class="docutils literal"><span class="pre">break</span></code> jumps after the loop&#8217;s end, <code class="docutils literal"><span class="pre">continue</span></code> jumps just to it,
skipping the rest of the body but continuing with the next iteration afterwards.
That is, <code class="docutils literal"><span class="pre">continue</span></code> is just a convenient alternative to putting the remainder
of the body inside an if:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">loop_condition</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Works for do … while and for too, of course.</span>
    <span class="c1">// Do something.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">skip_condition</span><span class="p">)</span>
        <span class="k">continue</span><span class="p">;</span>
    <span class="c1">// Do more things.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>could also be written as</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">loop_condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do something.</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">skip_condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Do more things.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>That is, the <code class="docutils literal"><span class="pre">continue</span></code> jumps before the check of the condition in a <code class="docutils literal"><span class="pre">while</span></code>
and <code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code> loop and before the “increment” expression in a <code class="docutils literal"><span class="pre">for</span></code> loop.</p>
<p>It is a matter of personal preference whether to use <code class="docutils literal"><span class="pre">continue</span></code> or <code class="docutils literal"><span class="pre">if</span></code>. I
think that <code class="docutils literal"><span class="pre">continue</span></code> is more readable than <code class="docutils literal"><span class="pre">if</span></code> when the <code class="docutils literal"><span class="pre">if</span></code>&#8216;s body
would be very long or when the <code class="docutils literal"><span class="pre">if</span></code>&#8216;s execution is the “usual” case. Also, I
always use <code class="docutils literal"><span class="pre">continue</span></code> if it avoids nested <code class="docutils literal"><span class="pre">if</span></code>s:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">loop_condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do something.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">skip_condition</span><span class="p">)</span>
        <span class="k">continue</span><span class="p">;</span>
    <span class="c1">// Do more things.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">skip_condition_2</span><span class="p">)</span>
        <span class="k">continue</span><span class="p">;</span>
    <span class="c1">// Do even more things.</span>
  <span class="p">}</span>
</pre></div>
</div>
<p>is IMHO far more readable than the variant with nested <code class="docutils literal"><span class="pre">if</span></code>s:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">loop_condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do something.</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">skip_condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do more things.</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">skip_condition_2</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Do even more things.</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of course, you can also mix <code class="docutils literal"><span class="pre">if</span></code> and <code class="docutils literal"><span class="pre">continue</span></code>; whether that makes the code
more readable is up to you.</p>
<p>This program demonstrates the use of <code class="docutils literal"><span class="pre">continue</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter numbers. Enter a letter to quit.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">n</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Negated: &quot;</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Doubled: &quot;</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="hll">            <span class="k">continue</span><span class="p">;</span>
</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Reciprocal: &quot;</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Granted, this example is a bit silly and an <code class="docutils literal"><span class="pre">if</span></code> would be just as appropriate,
but it should be enough to demonstrate the semantics of <code class="docutils literal"><span class="pre">continue</span></code>.</p>
<div class="admonition-task admonition" id="task-continue-with-if-else">
<p class="first admonition-title">Task: <code class="docutils literal"><span class="pre">continue</span></code> with <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code></p>
<p>Rewrite this program using <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> instead of <code class="docutils literal"><span class="pre">continue</span></code>!</p>
<p class="taskref tasksolref last">(<a class="reference external" href="#task-continue-with-if-else-solution">Solution</a>)</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Inside a <code class="docutils literal"><span class="pre">switch</span></code> statement, <code class="docutils literal"><span class="pre">break</span></code> ends the <code class="docutils literal"><span class="pre">switch</span></code>, as we
have seen in the corresponding section. <code class="docutils literal"><span class="pre">continue</span></code> cannot be used in a sole
<code class="docutils literal"><span class="pre">switch</span></code>. However, when the <code class="docutils literal"><span class="pre">switch</span></code> is contained in a loop, <code class="docutils literal"><span class="pre">continue</span></code>
affects the loop.</p>
</div>
</div>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The unary prefix operators <code class="docutils literal"><span class="pre">++x</span></code> and <code class="docutils literal"><span class="pre">--x</span></code> are equivalent to <code class="docutils literal"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">1</span></code>
and <code class="docutils literal"><span class="pre">x</span> <span class="pre">-=</span> <span class="pre">1</span></code> respectively.</li>
<li>The unary postfix operators <code class="docutils literal"><span class="pre">x++</span></code> and <code class="docutils literal"><span class="pre">x--</span></code> have the same side effect as
their prefix counterparts but return the original value of their operand.</li>
<li>Curly braces <code class="docutils literal"><span class="pre">{}</span></code> group multiple statements in one block statement.  This is
mainly useful for the following control-flow structures, which accept only a
single statement.</li>
<li>Control structures can be arbitrarily nested.</li>
<li><code class="docutils literal"><span class="pre">if</span> <span class="pre">(condition)</span> <span class="pre">statement</span></code> executes statement only if the boolean expression
<code class="docutils literal"><span class="pre">condition</span></code> is <code class="docutils literal"><span class="pre">true</span></code>.</li>
<li><code class="docutils literal"><span class="pre">else</span> <span class="pre">statement</span></code> can be used after an <code class="docutils literal"><span class="pre">if</span></code> statement to execute the
statement only when the <code class="docutils literal"><span class="pre">if</span></code>&#8216;s condition is not fulfilled.</li>
<li><code class="docutils literal"><span class="pre">switch</span> <span class="pre">(integral_expression)</span></code> can be used for multiway-branching, as an
replacement for multiple <code class="docutils literal"><span class="pre">else</span> <span class="pre">if</span> <span class="pre">(integral_expression</span> <span class="pre">==</span> <span class="pre">constant)</span></code>
statements. The branches start with <code class="docutils literal"><span class="pre">case</span> <span class="pre">constant:</span></code> and end with
<code class="docutils literal"><span class="pre">break;</span></code>. The special <code class="docutils literal"><span class="pre">default:</span></code> branch is executed if no other branch
matches.</li>
<li><code class="docutils literal"><span class="pre">while</span> <span class="pre">(condition)</span> <span class="pre">statement</span></code> executes statement as long as <code class="docutils literal"><span class="pre">condition</span></code> is
<code class="docutils literal"><span class="pre">true</span></code>. If <code class="docutils literal"><span class="pre">condition</span></code> is initially <code class="docutils literal"><span class="pre">false</span></code>, <code class="docutils literal"><span class="pre">statement</span></code> will never be
executed.</li>
<li><code class="docutils literal"><span class="pre">do</span> <span class="pre">statement</span> <span class="pre">while</span> <span class="pre">(condition);</span></code> repeats <code class="docutils literal"><span class="pre">statement</span></code> as long as
<code class="docutils literal"><span class="pre">condition</span></code> is true, but it checks condition only <em>after</em> executing it, so
<code class="docutils literal"><span class="pre">statement</span></code> will always be executed at least once.</li>
<li><code class="docutils literal"><span class="pre">for</span> <span class="pre">(initialization;</span> <span class="pre">condition;</span> <span class="pre">increment)</span> <span class="pre">statement</span></code> (where all head parts
are optional) executes <code class="docutils literal"><span class="pre">statement</span></code> as long as <code class="docutils literal"><span class="pre">condition</span></code> is <code class="docutils literal"><span class="pre">true</span></code> but
executes the expression or definition <code class="docutils literal"><span class="pre">initialization</span></code> before the loop is
entered (and <code class="docutils literal"><span class="pre">condition</span></code> is checked) and executes the <code class="docutils literal"><span class="pre">increment</span></code>
expression every time after <code class="docutils literal"><span class="pre">statement</span></code> was executed.</li>
<li><code class="docutils literal"><span class="pre">break</span></code> ends the loop it is in.</li>
<li><code class="docutils literal"><span class="pre">continue</span></code> skips the rest of the loop body it is in, but goes on with the
next iteration (provided the loop condition is <code class="docutils literal"><span class="pre">true</span></code>).</li>
</ul>
</div>
<div class="section" id="solutions-for-tasks">
<h2>Solutions for Tasks<a class="headerlink" href="#solutions-for-tasks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="task-sorting-three-numbers-solved">
<h3>Solved task: Sorting three numbers<a class="headerlink" href="#task-sorting-three-numbers-solved" title="Permalink to this headline">¶</a></h3>
<div class="admonition-task admonition">
<p class="first admonition-title">Original task</p>
<p class="taskref taskorigref">(<a class="reference external" href="#task-sorting-three-numbers">Original task&#8217;s location</a>)</p>
<p>Extend the <a class="reference internal" href="#proc-ctrl-ex-sort2"><span class="std std-ref">program that sorts two numbers</span></a>
to sort three numbers instead!</p>
<p class="last">Hint: Check your program with all 6 <a class="reference internal" href="#permutations">permutations</a> (i.e. possible
orders) of 1, 2, 3.</p>
</div>
<p id="task-sorting-three-numbers-solution">One way to approach this is to first make sure that the smallest of the three
numbers is first and then swap the remaining two if necessary:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter three numbers: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span> <span class="o">&gt;&gt;</span> <span class="n">c</span><span class="p">;</span>

    <span class="c1">// Make sure a is the smallest number:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Swap a and b</span>
        <span class="k">auto</span> <span class="n">original_a</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">original_a</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Swap a and c</span>
        <span class="k">auto</span> <span class="n">original_a</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">original_a</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Make sure that b and c are in the correct order:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">b</span> <span class="o">&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">original_b</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">original_b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Sorted: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39; &#39;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39; &#39;</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>What&#8217;s ugly about this solution is that we have to repeat the code
for swapping three numbers three times. We will learn how to write code that
can be used several times from several places in <a class="reference internal" href="functions.html#proc-functions"><span class="std std-ref">Functions</span></a>. For
now, we have to put up with this violation of the <a class="reference internal" href="#dry">DRY</a> principle.</p>
</div>
<div class="section" id="task-mini-calculator-solved">
<h3>Solved task: Mini calculator<a class="headerlink" href="#task-mini-calculator-solved" title="Permalink to this headline">¶</a></h3>
<div class="admonition-task admonition">
<p class="first admonition-title">Original task</p>
<p class="taskref taskorigref">(<a class="reference external" href="#task-mini-calculator">Original task&#8217;s location</a>)</p>
<p class="last">Extend this program so that the user cannot enter only a number that
is then added, but a number and an operator, so that the user can decide
to add to, subtract from, multiply or divide the current value. Make sure to
handle division by zero!</p>
</div>
<p id="task-mini-calculator-solution">This program is basically a combination of the example program <a class="reference internal" href="#proc-ctrl-ex-switch"><span class="std std-ref">for
switch</span></a> and <a class="reference internal" href="#proc-ctrl-ex-do-while"><span class="std std-ref">the one mentioned in the task</span></a>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">value</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter initial value: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">value</span><span class="p">;</span>

    <span class="kt">char</span> <span class="n">op</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter an operator followed by an operand.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="kt">double</span> <span class="n">operand</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;&gt; &quot;</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">op</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">op</span> <span class="o">!=</span> <span class="sc">&#39;q&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">op</span> <span class="o">!=</span> <span class="sc">&#39;Q&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">operand</span><span class="p">;</span>
            <span class="k">switch</span> <span class="p">(</span><span class="n">op</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">case</span> <span class="sc">&#39;+&#39;</span><span class="o">:</span> <span class="n">value</span> <span class="o">+=</span> <span class="n">operand</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;-&#39;</span><span class="o">:</span> <span class="n">value</span> <span class="o">-=</span> <span class="n">operand</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;*&#39;</span><span class="o">:</span> <span class="n">value</span> <span class="o">*=</span> <span class="n">operand</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;/&#39;</span><span class="o">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">operand</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
                        <span class="n">value</span> <span class="o">/=</span> <span class="n">operand</span><span class="p">;</span>
                    <span class="k">else</span>
                        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;E: Cannot divide by zero.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>

                <span class="k">default</span><span class="o">:</span>
                    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;E: unknown operator &#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">op</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;&#39;.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Current value: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">value</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">op</span> <span class="o">!=</span> <span class="sc">&#39;q&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">op</span> <span class="o">!=</span> <span class="sc">&#39;Q&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="task-pyramids-with-for-solved">
<h3>Solved task: Pyramids with <code class="docutils literal"><span class="pre">for</span></code><a class="headerlink" href="#task-pyramids-with-for-solved" title="Permalink to this headline">¶</a></h3>
<div class="admonition-task admonition">
<p class="first admonition-title">Original task</p>
<p class="taskref taskorigref">(<a class="reference external" href="#task-pyramids-with-for">Original task&#8217;s location</a>)</p>
<p>Write a program that outputs a “pyramid” of a given height. For
example fo the input 4, the program should print:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#</span>
<span class="cp">##</span>
<span class="cp">###</span>
<span class="cp">####</span>
</pre></div>
</div>
<p>Extend the program to optionally put the slope on both sides. E.g for the 4
above, it should then print:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span>   <span class="cp">#</span>
  <span class="cp">###</span>
 <span class="cp">#####</span>
<span class="cp">#######</span>
</pre></div>
</div>
<p class="last">Try to minimize code duplication between these two options!</p>
</div>
<p id="task-pyramids-with-for-solution">The trick for the basic variant is to have the inner <code class="docutils literal"><span class="pre">for</span></code>&#8216;s counter run
only up to the outer <code class="docutils literal"><span class="pre">for</span></code>&#8216;s counter + 1: In the first line, you want to
print one <code class="docutils literal"><span class="pre">#</span></code>, in the second line two, and so on: generally, in the n-th
line, you want to print n hashtags.</p>
<p>For the extended variant, you need to print <code class="docutils literal"><span class="pre">w</span> <span class="pre">=</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">1</span></code> hashtags in the
line index <code class="docutils literal"><span class="pre">y</span></code> (index <code class="docutils literal"><span class="pre">y</span></code> meaning it&#8217;s the <code class="docutils literal"><span class="pre">y</span> <span class="pre">+</span> <span class="pre">1</span></code>-th line): In line
<code class="docutils literal"><span class="pre">0</span></code>, you need to print one (hence the <code class="docutils literal"><span class="pre">+</span> <span class="pre">1</span></code>) and in every successive line
you need to print two more (hence the <code class="docutils literal"><span class="pre">*</span> <span class="pre">2</span></code>). Additionally, you need to
print spaces in front of the hashtags: Obviously, for the last line, let&#8217;s
call its index <code class="docutils literal"><span class="pre">h</span></code>, you need to print zero of them. However, for line <code class="docutils literal"><span class="pre">h</span> <span class="pre">-</span>
<span class="pre">1</span></code> you need to print one space, for line <code class="docutils literal"><span class="pre">h</span> <span class="pre">-</span> <span class="pre">2</span></code> two, and so on. Generally,
line <code class="docutils literal"><span class="pre">y</span></code> requires <code class="docutils literal"><span class="pre">h</span> <span class="pre">-</span> <span class="pre">y</span></code> spaces.</p>
<p>Note that the formula for the block numbers of the extended and basic variant
can be generalized to <code class="docutils literal"><span class="pre">w</span> <span class="pre">=</span> <span class="pre">b</span> <span class="pre">*</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">1</span></code> where <code class="docutils literal"><span class="pre">b</span></code> is 1 for the basic variant
and <code class="docutils literal"><span class="pre">2</span></code> for the extended variant.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="n">height</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter the pyramid&#39;s height: &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">height</span><span class="p">;</span>

    <span class="kt">bool</span> <span class="n">centered</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Should the tip be centered (0/1)? &quot;</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">centered</span><span class="p">;</span>


    <span class="k">auto</span> <span class="n">block_factor</span> <span class="o">=</span> <span class="mi">1u</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">centered</span><span class="p">)</span>
        <span class="n">block_factor</span> <span class="o">=</span> <span class="mi">2u</span><span class="p">;</span>

    <span class="k">auto</span> <span class="n">block_char</span> <span class="o">=</span> <span class="sc">&#39;#&#39;</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0u</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">;</span> <span class="o">++</span><span class="n">y</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">centered</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Print spaces in front:</span>
            <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0u</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">height</span> <span class="o">-</span> <span class="mi">1u</span> <span class="o">-</span> <span class="n">y</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39; &#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Print blocks:</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0u</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">*</span> <span class="n">block_factor</span> <span class="o">+</span> <span class="mi">1u</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">block_char</span><span class="p">;</span>

        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="task-break-with-if-else-solved">
<h3>Solved task: <code class="docutils literal"><span class="pre">break</span></code> with <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code><a class="headerlink" href="#task-break-with-if-else-solved" title="Permalink to this headline">¶</a></h3>
<div class="admonition-task admonition">
<p class="first admonition-title">Original task</p>
<p class="taskref taskorigref">(<a class="reference external" href="#task-break-with-if-else">Original task&#8217;s location</a>)</p>
<p class="last">Rewrite the above program without using <code class="docutils literal"><span class="pre">break</span></code>.</p>
</div>
<div class="highlight-cpp" id="task-break-with-if-else-solution"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">max_number_count</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">target_sum</span> <span class="o">=</span> <span class="mi">256</span><span class="p">;</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter number:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">auto</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="hll">    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">max_number_count</span> <span class="o">&amp;&amp;</span> <span class="n">sum</span> <span class="o">&lt;</span> <span class="n">target_sum</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span>        <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">n</span><span class="p">;</span>

<span class="hll">        <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&lt;</span> <span class="n">target_sum</span><span class="p">)</span>
</span>            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Sum not reached yet.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="hll">    <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&gt;=</span> <span class="n">target_sum</span><span class="p">)</span>
</span>        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Target sum &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">target_sum</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; reached.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Final sum: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">sum</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note how the check if the target sum has (not) been reached now appears three
times instead of just one.</p>
</div>
<div class="section" id="task-average-with-break-less-variant-solved">
<h3>Solved task: Average with <code class="docutils literal"><span class="pre">break</span></code>-less variant<a class="headerlink" href="#task-average-with-break-less-variant-solved" title="Permalink to this headline">¶</a></h3>
<div class="admonition-task admonition">
<p class="first admonition-title">Original task</p>
<p class="taskref taskorigref">(<a class="reference external" href="#task-average-with-break-less-variant">Original task&#8217;s location</a>)</p>
<p class="last">(Followup to the <a class="reference internal" href="#proc-task-break-with-if-else"><span class="std std-ref">previous task</span></a>.) What
would you need to change for the previous task to have <code class="docutils literal"><span class="pre">i</span></code> always be equal
to the number of numbers entered?</p>
</div>
<p id="task-average-with-break-less-variant-solution">Moving the definition of <code class="docutils literal"><span class="pre">i</span></code> outside the <code class="docutils literal"><span class="pre">for</span></code> is enough.</p>
</div>
<div class="section" id="task-continue-with-if-else-solved">
<h3>Solved task: <code class="docutils literal"><span class="pre">continue</span></code> with <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code><a class="headerlink" href="#task-continue-with-if-else-solved" title="Permalink to this headline">¶</a></h3>
<div class="admonition-task admonition">
<p class="first admonition-title">Original task</p>
<p class="taskref taskorigref">(<a class="reference external" href="#task-continue-with-if-else">Original task&#8217;s location</a>)</p>
<p class="last">Rewrite this program using <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> instead of <code class="docutils literal"><span class="pre">continue</span></code>!</p>
</div>
<div class="highlight-cpp" id="task-continue-with-if-else-solution"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Enter numbers. Enter a letter to quit.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">n</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Negated: &quot;</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Doubled: &quot;</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>

<span class="hll">        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
</span><span class="hll">            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Reciprocal: &quot;</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
</span>    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="postfix-again" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The alert reader may have noticed that this loop could also
be rewritten with one statement using the postfix form of <code class="docutils literal"><span class="pre">++</span></code>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">On C++</a></h1>



<p class="blurb">Yet another C++ tutorial.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Oberon00&repo=cpptutorial&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Control flow</a><ul>
<li><a class="reference internal" href="#conditional-execution-if-and-else">Conditional execution: <code class="docutils literal"><span class="pre">if</span></code> and <code class="docutils literal"><span class="pre">else</span></code></a><ul>
<li><a class="reference internal" href="#if"><code class="docutils literal"><span class="pre">if</span></code></a></li>
<li><a class="reference internal" href="#else"><code class="docutils literal"><span class="pre">else</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#block-statements">Block statements</a><ul>
<li><a class="reference internal" href="#brace-style">Brace style</a></li>
<li><a class="reference internal" href="#swapping">Swapping</a></li>
<li><a class="reference internal" href="#scope">Scope</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nested-control-flow-and-else-if">Nested control flow and <code class="docutils literal"><span class="pre">else</span> <span class="pre">if</span></code></a><ul>
<li><a class="reference internal" href="#the-dangling-else-problem">The dangling <code class="docutils literal"><span class="pre">else</span></code> problem</a></li>
<li><a class="reference internal" href="#else-if"><code class="docutils literal"><span class="pre">else</span> <span class="pre">if</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#multi-way-branching-switch">Multi-way branching: <code class="docutils literal"><span class="pre">switch</span></code></a><ul>
<li><a class="reference internal" href="#the-simple-truth-about-switch">The simple truth about <code class="docutils literal"><span class="pre">switch</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#loops">Loops</a><ul>
<li><a class="reference internal" href="#repeat-conditionally-while">Repeat conditionally: <code class="docutils literal"><span class="pre">while</span></code></a></li>
<li><a class="reference internal" href="#do-while"><code class="docutils literal"><span class="pre">do</span> <span class="pre">…</span> <span class="pre">while</span></code></a></li>
<li><a class="reference internal" href="#counter-loops-for">Counter loops: <code class="docutils literal"><span class="pre">for</span></code></a><ul>
<li><a class="reference internal" href="#implementing-for-with-while">Implementing <code class="docutils literal"><span class="pre">for</span></code> with <code class="docutils literal"><span class="pre">while</span></code></a></li>
<li><a class="reference internal" href="#the-increment-and-decrement-operators">The increment <code class="docutils literal"><span class="pre">++</span></code> and decrement <code class="docutils literal"><span class="pre">--</span></code> operators</a></li>
<li><a class="reference internal" href="#the-for-loop">The <code class="docutils literal"><span class="pre">for</span></code> loop</a></li>
<li><a class="reference internal" href="#stripping-for-s-head">Stripping <code class="docutils literal"><span class="pre">for</span></code>&#8216;s head</a></li>
</ul>
</li>
<li><a class="reference internal" href="#break-and-continue"><code class="docutils literal"><span class="pre">break</span></code> and <code class="docutils literal"><span class="pre">continue</span></code></a><ul>
<li><a class="reference internal" href="#ending-a-loop-with-break">Ending a loop with <code class="docutils literal"><span class="pre">break</span></code></a></li>
<li><a class="reference internal" href="#skipping-part-of-a-loop-body-with-continue">Skipping part of a loop body with <code class="docutils literal"><span class="pre">continue</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#solutions-for-tasks">Solutions for Tasks</a><ul>
<li><a class="reference internal" href="#task-sorting-three-numbers-solved">Solved task: Sorting three numbers</a></li>
<li><a class="reference internal" href="#task-mini-calculator-solved">Solved task: Mini calculator</a></li>
<li><a class="reference internal" href="#task-pyramids-with-for-solved">Solved task: Pyramids with <code class="docutils literal"><span class="pre">for</span></code></a></li>
<li><a class="reference internal" href="#task-break-with-if-else-solved">Solved task: <code class="docutils literal"><span class="pre">break</span></code> with <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code></a></li>
<li><a class="reference internal" href="#task-average-with-break-less-variant-solved">Solved task: Average with <code class="docutils literal"><span class="pre">break</span></code>-less variant</a></li>
<li><a class="reference internal" href="#task-continue-with-if-else-solved">Solved task: <code class="docutils literal"><span class="pre">continue</span></code> with <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="functions.html" title="Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="logic.html" title="Logic and more on operators"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">On C++</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >The Basics: Procedural programming</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy;2014, Christian Neumüller.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../_sources/proc/control-flow.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>